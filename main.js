!function(){"use strict";class e{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this.clear(),this._items.forEach((e=>{this._renderer(e)}))}clear(){this._container.innerHTML=""}appendItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}class t{constructor(e){let{popupSelector:t,popupOpenedClass:r,closeButtonSelector:s}=e;this._popupWindow=document.querySelector(t),this._closeButton=this._popupWindow.querySelector(s),this._popupOpenedClass=r}open(){this._popupWindow.classList.add(this._popupOpenedClass),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupWindow.classList.remove(this._popupOpenedClass),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupWindow.addEventListener("mousedown",(e=>{e.target===e.currentTarget&&this.close()}))}}class r extends t{constructor(e,t,r){super(e),this._submitHandler=r,this._popupForm=this._popupWindow.querySelector(t),this._formInputs=Array.from(this._popupForm.querySelectorAll("input"))}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{this._submitHandler(e,this._getInputValues())}))}_getInputValues(){const e={};return this._formInputs.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._formInputs.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._popupForm.reset()}}class s{constructor(e,t,r,s,n,o){this._cardSelector=t,this._handleImageClick=r,this._confirmDelete=s,this._callApiDelete=n,this._callApiLike=o,this._cardElement=this._cardSelector.querySelector(".card").cloneNode(!0),this._cardElementCaption=this._cardElement.querySelector(".card__caption"),this._cardElementCaption.textContent=e.name,this._likeElement=this._cardElement.querySelector(".card__button-heart"),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardImageElement.src=e.link,this._cardImageElement.alt=e.name,this._cardImageElement.id=e._id,e.isLiked&&this._likeElement.classList.add("card__button-heart_active")}_handleLikeCard=e=>{e.target.classList.toggle("card__button-heart_active"),this._callApiLike(this._cardImageElement.id,e.target.classList.contains("card__button-heart_active"))};_handleDeleteCard=()=>{this._confirmDelete(this)};deleteCard(){this._removeEventListeners(),this._cardElement.remove(),this._callApiDelete(this._cardImageElement.id)}_callHandleImageClick=()=>{this._handleImageClick(this)};_setEventListeners(){this._cardElement.querySelector(".card__button-heart").addEventListener("click",this._handleLikeCard),this._cardElement.querySelector(".card__button-delete").addEventListener("click",this._handleDeleteCard),this._cardImageElement.addEventListener("click",this._callHandleImageClick)}_removeEventListeners(){this._cardElement.querySelector(".card__button-heart").removeEventListener("click",this._handleLikeCard),this._cardElement.querySelector(".card__button-delete").removeEventListener("click",this._handleDeleteCard),this._cardImageElement.removeEventListener("click",this._callHandleImageClick)}getCardElement(){return this._setEventListeners(),this._cardElement}getCardName(){return this._cardElementCaption.textContent}getCardAltInfo(){return this._cardImageElement.alt}getCardLink(){return this._cardImageElement.src}}class n{constructor(e,t){let{inputSelector:r,submitButtonSelector:s,inputErrorClass:n,errorClass:o}=e;this._inputSelector=r,this._submitButtonSelector=s,this._inputErrorClass=n,this._errorClass=o,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`.${e.name}-error`);e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass),t.textContent=e.validationMessage}_hideInputError(e){const t=this._formElement.querySelector(`.${e.name}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_setSubmitButtonState(){this._hasInvalidInput()?this.disableSubmitButton():this._buttonElement.disabled=!1}_setEventListeners(){this._setSubmitButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._setSubmitButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}disableSubmitButton(){this._buttonElement.disabled=!0}resetValidation(){const e=new Event("input");this._inputList.forEach((t=>{t.dispatchEvent(e)}))}}const o=[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],a="#edit-profile-modal",i=document.querySelector(a).querySelector(".modal__submit-btn"),l="#edit-profile-url-modal",c=document.querySelector(l).querySelector(".modal__submit-btn"),d="#add-card-modal",u=document.querySelector(d).querySelector(".modal__submit-btn"),m={},h={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},p="modal_opened",_=".modal__form",E=document.querySelector(".modal__input_profile-name").name,f=document.querySelector(".modal__input_profile-description").name,v=document.querySelector(".modal__input_profile-url").name,g=document.querySelector(".modal__input_place-name").name,S=document.querySelector(".modal__input_place-pic-url").name,b=(document.forms["add-card-form"],document.querySelector(".profile__edit-button")),C=document.querySelector(".profile__image"),y=document.querySelector(".profile__add-card-button"),L=document.querySelector("#card").content,I=".modal__close-btn",k=document.querySelector(".header__reset-btn");function w(e){return new s(e,L,q,T,D,$).getCardElement()}function q(e){N.open({link:e.getCardLink(),altInfo:e.getCardAltInfo(),name:e.getCardName()})}document.querySelector(".header__get-btn");const U=new class{constructor(e){let{userNameSelector:t,userDescriptionSelector:r,userAvatarSelector:s}=e;this._userName=document.querySelector(t),this._userDescription=document.querySelector(r),this._userAvatar=document.querySelector(s)}getUserInfo(){const e={};return e.name=this._userName.textContent,e.description=this._userDescription.textContent,e}getUserAvatar(){return this._currentAvatar}setUserInfo(e){let{name:t,description:r}=e;this._userName.textContent=t,this._userDescription.textContent=r}setUserAvatar(e){this._userAvatar.src=e,this._currentAvatar=e}}({userNameSelector:".profile__title",userDescriptionSelector:".profile__description",userAvatarSelector:".profile__image"}),A=new r({popupSelector:a,popupOpenedClass:p,closeButtonSelector:I},_,(function(e,t){i.textContent="Saving...",e.preventDefault();const r={name:`${t[E]}`,description:`${t[f]}`};U.setUserInfo(r),B.setUserInfo(r).then((e=>{U.setUserInfo(r)})).catch((e=>{alert(e)})).finally((()=>{A.close()}))}));A.setEventListeners(),b.addEventListener("click",(()=>{const e={},{name:t,description:r}=U.getUserInfo();e[E]=t,e[f]=r,A.setInputValues(e),m["edit-profile-form"].resetValidation(),m["edit-profile-form"].disableSubmitButton(),i.textContent="Save",A.open()}));const j=new r({popupSelector:l,popupOpenedClass:p,closeButtonSelector:I},_,(function(e,t){c.textContent="Saving...",e.preventDefault(),B.setUserAvatar(t[v]).then((e=>{console.log(e),U.setUserAvatar(t[v])})).catch((e=>{alert(e)})).finally((()=>{j.close()}))}));function D(e){B.deleteCard(e).then((e=>{console.log(e)}))}function $(e,t){console.log(B.setCardLike(e,t))}j.setEventListeners(),C.addEventListener("click",(()=>{const e={};e[v]=U.getUserAvatar(),j.setInputValues(e),m["edit-profile-url-form"].resetValidation(),m["edit-profile-url-form"].disableSubmitButton(),c.textContent="Save",j.open()})),k.addEventListener("click",(function(){console.log("Cards delete"),B.deleteAllCards().then((()=>{B.writeCards(o)}))}));const B=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r,console.log(this._baseUrl,this._headers)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"GET"}).then((e=>e.ok?e.json():Promise.reject(`Error loading cards from server. Error number: ${e.status}`))).catch((e=>{console.log(e)}))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"GET"}).then((e=>e.ok?e.json():Promise.reject(`Error getting user info from server. Error number: ${e.status}`))).catch((e=>{console.log(e)}))}setUserInfo(e){let{name:t,description:r}=e;return fetch(`${this._baseUrl}/users/me`,{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:r})}).then((e=>e.ok?e.json():Promise.reject(`Error setting user info from server. Error number: ${e.status}`))).then((e=>(console.log("User info updated."),e)))}setUserAvatar(e){return console.log(e),fetch(`${this._baseUrl}/users/me/avatar`,{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error updataing user avatar. Error number: ${e.status}. Possibly you typed in wrong URL.`))).then((e=>(console.log("User avatar updated successfully"),e)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{headers:this._headers,method:"DELETE"}).then((t=>t.ok?(console.log(`Card with ID: ${e} successfully deleted from server`),t.json()):Promise.reject(`Error deleteng card from server. Error number: ${t.status}`))).catch((e=>{console.log(e)}))}deleteAllCards(){const e=[];return this.getInitialCards().then((t=>{t.forEach((t=>{e.push(this.deleteCard(t._id))}))})),Promise.all(e)}writeCard(e){return console.log(e),fetch(`${this._baseUrl}/cards`,{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then((e=>e.ok?e.json():Promise.reject(`Error posting card to server. Error number: ${e.status}. Possibly you typed in wrong URL.`))).then((e=>(console.log(`Card with ID: ${e._id} successfully posted to server`),e)))}writeCards(e){const t=[];return e.forEach((e=>{t.push(this.writeCard(e))})),Promise.all(t).then((()=>`Successfully posted ${t.length} cards.`))}setCardLike(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{headers:this._headers,method:t?"PUT":"DELETE"}).then((e=>(console.log(e),e.ok?e.json():Promise.reject(`Error writing like. Error number: ${e.status}`)))).then((()=>{console.log("Like set with success")})).catch((e=>{console.log(e)}))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"16b2631d-863b-4a4a-821d-14e3c93f8b71","Content-Type":"application/json"}}),x=[B.getInitialCards(),B.getUserInfo()];let P;Promise.all(x).then((t=>{console.log(t),P=new e({items:t[0],renderer:e=>{const t=w(e);P.appendItem(t)}},".elements__cards"),P.renderItems(),U.setUserInfo({name:t[1].name,description:t[1].about}),U.setUserAvatar(t[1].avatar)})).catch((e=>{allert(e)}));const V=new r({popupSelector:d,popupOpenedClass:p,closeButtonSelector:I},_,(function(e,t){u.textContent="Saving...",e.preventDefault(),B.writeCard({name:t[g],link:t[S]}).then((e=>{console.log(e);const t=w(e);P.prependItem(t)})).catch((e=>{alert(e)})),V.close()}));V.setEventListeners(),y.addEventListener("click",(()=>{m["add-card-form"].disableSubmitButton(),u.textContent="Save",V.open()}));const O=new class extends t{constructor(e,t,r){super(e),this._submitHandler=r,this._popupForm=this._popupWindow.querySelector(t)}open(e){this._cardToDelete=e,super.open()}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{this._submitHandler(e,this._cardToDelete)}))}}({popupSelector:"#confirm-delete-modal",popupOpenedClass:p,closeButtonSelector:I},_,(function(e,t){e.preventDefault(),t.deleteCard(),O.close()}));function T(e){O.open(e)}O.setEventListeners();const N=new class extends t{constructor(e,t,r){super(e),this._picture=this._popupWindow.querySelector(t),this._caption=this._popupWindow.querySelector(r)}open(e){let{link:t,altInfo:r,name:s}=e;super.open(),this._picture.src=t,this._picture.alt=r,this._caption.textContent=s}}({popupSelector:"#show-pic-modal",popupOpenedClass:p,closeButtonSelector:I},".modal__picture",".modal__picture-caption");var H;N.setEventListeners(),H=h,Array.from(document.querySelectorAll(H.formSelector)).forEach((e=>{const t=new n(h,e),r=e.getAttribute("name");m[r]=t,t.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQ3ZCLElBVUEsU0FBU3FILEVBQXVCRyxHQUM1QmdFLEVBQW1CN0wsS0FBSzZILEVBQzVCLENBSkFnRSxFQUFtQm5MLG9CQVFuQixNQUFNb0gsRUFBYSxJSS9PSixjQUE2QnJJLEVBQ3hDckIsV0FBQUEsQ0FBWTBDLEVBQU1rTCxFQUFhQyxHQUMzQmhMLE1BQU1ILEdBQ05yQyxLQUFLeU4sU0FBV3pOLEtBQUtvQixhQUFhZixjQUFja04sR0FDaER2TixLQUFLME4sU0FBVzFOLEtBQUtvQixhQUFhZixjQUFjbU4sRUFDcEQsQ0FDQWpNLElBQUFBLENBQUkzQixHQUEwQixJQUF6QixLQUFFNEUsRUFBSSxRQUFFOEUsRUFBTyxLQUFFcEcsR0FBS3RELEVBQ3ZCNEMsTUFBTWpCLE9BQ052QixLQUFLeU4sU0FBU2xKLElBQU1DLEVBQ3BCeEUsS0FBS3lOLFNBQVNoSixJQUFNNkUsRUFDcEJ0SixLQUFLME4sU0FBU3RKLFlBQWNsQixDQUNoQyxHSm9Pa0MsQ0FDbENqQyxjRDlNOEIsa0JDK005QkMsaUJBQWdCLEVBQ2hCQyxvQkFBbUJBLEdEL01hLGtCQUNPLDJCQ3FOM0MsSUFBMEJ3TSxFQUoxQnRFLEVBQVdwSCxvQkFJZTBMLEVBVVR6RixFQVRJdEYsTUFBTUMsS0FBS3pDLFNBQVMwQyxpQkFBaUI2SyxFQUFPckwsZUFDcEQ5QixTQUFTb04sSUFDZCxNQUFNQyxFQUFtQixJQUFJcEksRUFBY3lDLEVBQWdCMEYsR0FDckRFLEVBQVdGLEVBQVlHLGFBQWEsUUFDMUM5RixFQUFlNkYsR0FBWUQsRUFDM0JBLEVBQWlCMUcsa0JBQWtCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXRCdXR0b24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJdGVtcygpIHtcclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKCB7cG9wdXBTZWxlY3RvciwgcG9wdXBPcGVuZWRDbGFzcywgY2xvc2VCdXR0b25TZWxlY3Rvcn0gKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3RvcihjbG9zZUJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wb3B1cE9wZW5lZENsYXNzID0gcG9wdXBPcGVuZWRDbGFzcztcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwV2luZG93LmNsYXNzTGlzdC5hZGQodGhpcy5fcG9wdXBPcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9wb3B1cE9wZW5lZENsYXNzKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHt0aGlzLmNsb3NlKCk7fSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7ICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKSk7XHJcbiAgICB9XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcihldnQsIHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRWYWx1ZXNbZm9ybUlucHV0Lm5hbWVdID0gZm9ybUlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuICAgIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgICAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGZvcm1JbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBmb3JtSW5wdXQudmFsdWUgPSBkYXRhW2Zvcm1JbnB1dC5uYW1lXTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yIChkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2ssIGNvbmZpcm1EZWxldGUsIGNhbGxBcGlEZWxldGUsIGNhbGxBcGlMaWtlKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgICAgIHRoaXMuX2NvbmZpcm1EZWxldGUgPSBjb25maXJtRGVsZXRlO1xyXG4gICAgICAgIHRoaXMuX2NhbGxBcGlEZWxldGUgPSBjYWxsQXBpRGVsZXRlO1xyXG4gICAgICAgIHRoaXMuX2NhbGxBcGlMaWtlID0gY2FsbEFwaUxpa2U7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudENhcHRpb24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2NhcHRpb25cIik7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnRDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpa2VFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24taGVhcnRcIik7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5pZCA9IGRhdGEuX2lkO1xyXG4gICAgICAgIGlmIChkYXRhLmlzTGlrZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNhcmRfX2J1dHRvbi1oZWFydF9hY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVMaWtlQ2FyZCA9IChldnQpID0+IHtcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19idXR0b24taGVhcnRfYWN0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2NhbGxBcGlMaWtlKHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuaWQsIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fYnV0dG9uLWhlYXJ0X2FjdGl2ZVwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZURlbGV0ZUNhcmQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY29uZmlybURlbGV0ZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fY2FsbEFwaURlbGV0ZSh0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmlkKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX2NhbGxIYW5kbGVJbWFnZUNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uLWhlYXJ0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlQ2FyZCk7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tZGVsZXRlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jYWxsSGFuZGxlSW1hZ2VDbGljayk7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1oZWFydFwiKS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGlrZUNhcmQpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uLWRlbGV0ZVwiKS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCk7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2FsbEhhbmRsZUltYWdlQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENhcmRFbGVtZW50KCkgeyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FyZE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50Q2FwdGlvbi50ZXh0Q29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXJkQWx0SW5mbygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FyZExpbmsoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvciAoe2lucHV0U2VsZWN0b3IsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLCBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3N9LCBlbGVtZW50VG9WYWxpZGF0ZSkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBpbnB1dFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZWxlbWVudFRvVmFsaWRhdGU7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5uYW1lfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50Lm5hbWV9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIH07XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBfc2V0U3VibWl0QnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHsgICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3NldFN1Ym1pdEJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHNpbXVsYXRlSW5wdXRFdmVudCA9IG5ldyBFdmVudChcImlucHV0XCIpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChtb2RhbElucHV0KSA9PiB7bW9kYWxJbnB1dC5kaXNwYXRjaEV2ZW50KHNpbXVsYXRlSW5wdXRFdmVudCk7fSk7XHJcbiAgICB9O1xyXG59IiwiXHJcbmV4cG9ydCBjb25zdCBjYXJkc0FycmF5ID0gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICAgXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgICAgICBsaW5rOiAgIFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogICBcIkxha2UgTG91aXNlXCIsXHJcbiAgICAgICAgbGluazogICBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICAgXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgICAgIGxpbms6ICAgXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAgIFwiTGF0ZW1hclwiLFxyXG4gICAgICAgIGxpbms6ICAgXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWU6ICAgXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgICAgICBsaW5rOiAgIFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAgIFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgICAgICBsaW5rOiAgIFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gICAgfVxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlUG9wdXBTZWxlY3RvciA9IFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiO1xyXG5leHBvcnQgY29uc3Qgc2F2ZVByb2ZpbGVJbmZvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlZGl0UHJvZmlsZVBvcHVwU2VsZWN0b3IpLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUF2YXRhclBvcHVwU2VsZWN0b3IgPSBcIiNlZGl0LXByb2ZpbGUtdXJsLW1vZGFsXCI7XHJcbmV4cG9ydCBjb25zdCBzYXZlUHJvZmlsZUF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWRpdFByb2ZpbGVBdmF0YXJQb3B1cFNlbGVjdG9yKS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnRuXCIpO1xyXG5leHBvcnQgY29uc3QgY29uZmlybURlbGV0ZVBvcHVwU2VsZWN0b3IgPSBcIiNjb25maXJtLWRlbGV0ZS1tb2RhbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZFBvcHVwU2VsZWN0b3IgPSBcIiNhZGQtY2FyZC1tb2RhbFwiO1xyXG5leHBvcnQgY29uc3Qgc2F2ZU5ld0NhcmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFkZENhcmRQb3B1cFNlbGVjdG9yKS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnRuXCIpO1xyXG5leHBvcnQgY29uc3QgaW1hZ2VQb3B1cFNlbGVjdG9yID0gXCIjc2hvdy1waWMtbW9kYWxcIjtcclxuZXhwb3J0IGNvbnN0IG1vZGFsUGljdHVyZVNlbGVjdG9yID0gXCIubW9kYWxfX3BpY3R1cmVcIjtcclxuZXhwb3J0IGNvbnN0IG1vZGFsUGljdHVyZUNhcHRpb25TZWxlY3RvciA9IFwiLm1vZGFsX19waWN0dXJlLWNhcHRpb25cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5cclxuZXhwb3J0IGNvbnN0IGlucHV0Rm9ybXNJbmZvID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idG5cIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiICAgICAgICAgICAgICAgICAgICAgIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdXBPcGVuZWRDbGFzcyA9IFwibW9kYWxfb3BlbmVkXCI7XHJcbmV4cG9ydCBjb25zdCBmb3JtU2VsZWN0b3IgPSBcIi5tb2RhbF9fZm9ybVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZVNlbGVjdG9yID0gXCIucHJvZmlsZV9fdGl0bGVcIjtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yID0gXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIjtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJTZWxlY3RvciA9IFwiLnByb2ZpbGVfX2ltYWdlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgbW9kYWxUaXRsZUlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X3Byb2ZpbGUtbmFtZVwiKS5uYW1lO1xyXG5leHBvcnQgY29uc3QgbW9kYWxEZXNjcmlwdGlvbklucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X3Byb2ZpbGUtZGVzY3JpcHRpb25cIikubmFtZTtcclxuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZVVybElucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X3Byb2ZpbGUtdXJsXCIpLm5hbWU7XHJcbmV4cG9ydCBjb25zdCBtb2RhbFBsYWNlSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXRfcGxhY2UtbmFtZVwiKS5uYW1lO1xyXG5leHBvcnQgY29uc3QgbW9kYWxQbGFjZVBpY1VybElucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X3BsYWNlLXBpYy11cmxcIikubmFtZTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zWydhZGQtY2FyZC1mb3JtJ107XHJcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtY2FyZC1idXR0b25cIik7XHJcblxyXG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkXCIpLmNvbnRlbnQ7XHJcbmV4cG9ydCBjb25zdCBjYXJkc1NlY3Rpb25TZWxlY3RvciA9IFwiLmVsZW1lbnRzX19jYXJkc1wiO1xyXG5leHBvcnQgY29uc3QgY2xvc2VCdXR0b25TZWxlY3RvciA9IFwiLm1vZGFsX19jbG9zZS1idG5cIjtcclxuXHJcbmV4cG9ydCBjb25zdCByZXNldENhcmRzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3Jlc2V0LWJ0blwiKTtcclxuZXhwb3J0IGNvbnN0IGdldENhcmRzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2dldC1idG5cIik7XHJcblxyXG5jb25zdCB0b2tlbiA9IHtcclxuICAgIFwidXNlclwiOiB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxyXG4gICAgICAgIFwiYWJvdXRcIjogXCJTYWlsb3IsIHJlc2VhcmNoZXJcIixcclxuICAgICAgICBcImF2YXRhclwiOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vZnJvbnRlbmQtZGV2ZWxvcGVyL2NvbW1vbi9hdmF0YXIuanBnXCIsXHJcbiAgICAgICAgXCJfaWRcIjogXCI3ZGY2MWI4NzVhNTZhNzgwNWRmMjBhNmJcIlxyXG4gICAgfSxcclxuICAgIFwidG9rZW5cIjpcIjE2YjI2MzFkLTg2M2ItNGE0YS04MjFkLTE0ZTNjOTNmOGI3MVwiXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYmFzaWNSZXF1ZXN0SW5mbyA9IHtcclxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogXCIxNmIyNjMxZC04NjNiLTRhNGEtODIxZC0xNGUzYzkzZjhiNzFcIixcclxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH1cclxufTsiLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0QnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdEJ1dHRvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgY2FyZFRlbXBsYXRlLFxyXG4gICAgaW5wdXRGb3Jtc0luZm8sXHJcbiAgICBjYXJkc0FycmF5LFxyXG4gICAgY2FyZHNTZWN0aW9uU2VsZWN0b3IsXHJcbiAgICBlZGl0UHJvZmlsZUJ0bixcclxuICAgIGVkaXRQcm9maWxlQXZhdGFyQnRuLFxyXG4gICAgZWRpdFByb2ZpbGVQb3B1cFNlbGVjdG9yLFxyXG4gICAgZWRpdFByb2ZpbGVBdmF0YXJQb3B1cFNlbGVjdG9yLFxyXG4gICAgY29uZmlybURlbGV0ZVBvcHVwU2VsZWN0b3IsXHJcbiAgICBhZGRDYXJkQnRuLFxyXG4gICAgYWRkQ2FyZFBvcHVwU2VsZWN0b3IsXHJcbiAgICBwb3B1cE9wZW5lZENsYXNzLFxyXG4gICAgY2xvc2VCdXR0b25TZWxlY3RvcixcclxuICAgIGZvcm1TZWxlY3RvcixcclxuICAgIHByb2ZpbGVUaXRsZVNlbGVjdG9yLFxyXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IsXHJcbiAgICBwcm9maWxlQXZhdGFyU2VsZWN0b3IsXHJcbiAgICBtb2RhbFRpdGxlSW5wdXROYW1lLFxyXG4gICAgbW9kYWxEZXNjcmlwdGlvbklucHV0TmFtZSxcclxuICAgIG1vZGFsUHJvZmlsZVVybElucHV0TmFtZSxcclxuICAgIG1vZGFsUGxhY2VJbnB1dE5hbWUsXHJcbiAgICBtb2RhbFBsYWNlUGljVXJsSW5wdXROYW1lLFxyXG4gICAgaW1hZ2VQb3B1cFNlbGVjdG9yLFxyXG4gICAgbW9kYWxQaWN0dXJlU2VsZWN0b3IsXHJcbiAgICBtb2RhbFBpY3R1cmVDYXB0aW9uU2VsZWN0b3IsXHJcbiAgICBmb3JtVmFsaWRhdG9ycyxcclxuICAgIGJhc2ljUmVxdWVzdEluZm8sXHJcbiAgICByZXNldENhcmRzQnRuLFxyXG4gICAgc2F2ZVByb2ZpbGVJbmZvQnRuLFxyXG4gICAgc2F2ZVByb2ZpbGVBdmF0YXJCdG4sXHJcbiAgICBzYXZlTmV3Q2FyZEJ0blxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIlxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0gSW5pdCBDYXJkcyBQYXJ0IC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkSW5mbykge1xyXG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGNhcmRJbmZvLCBjYXJkVGVtcGxhdGUsIGhhbmRsZUltYWdlQ2xpY2ssIG9wZW5Db25maXJtRGVsZXRlUG9wdXAsIGFwaURlbGV0ZUNhcmQsIGFwaUxpa2VDYXJkKTtcclxuICAgIHJldHVybiBuZXdDYXJkLmdldENhcmRFbGVtZW50KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZCkge1xyXG4gICAgaW1hZ2VQb3B1cC5vcGVuKHtcclxuICAgICAgICBsaW5rOiBjYXJkLmdldENhcmRMaW5rKCksXHJcbiAgICAgICAgYWx0SW5mbzogY2FyZC5nZXRDYXJkQWx0SW5mbygpLFxyXG4gICAgICAgIG5hbWU6IGNhcmQuZ2V0Q2FyZE5hbWUoKVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0gVXNlciBQYXJ0IC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XHJcbiAgICB1c2VyTmFtZVNlbGVjdG9yOiBwcm9maWxlVGl0bGVTZWxlY3RvciwgXHJcbiAgICB1c2VyRGVzY3JpcHRpb25TZWxlY3RvcjogcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IsXHJcbiAgICB1c2VyQXZhdGFyU2VsZWN0b3I6IHByb2ZpbGVBdmF0YXJTZWxlY3RvclxyXG59KTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0gRWRpdCBQcm9maWxlIEluZm8gUGFydCAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdEZvcm1Qcm9maWxlKGV2dCwgaW5wdXRWYWx1ZXMpIHtcclxuICAgIHNhdmVQcm9maWxlSW5mb0J0bi50ZXh0Q29udGVudCA9ICdTYXZpbmcuLi4nO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc3QgbmV3VXNlckluZm8gPSB7XHJcbiAgICAgICAgbmFtZTogYCR7aW5wdXRWYWx1ZXNbbW9kYWxUaXRsZUlucHV0TmFtZV19YCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogYCR7aW5wdXRWYWx1ZXNbbW9kYWxEZXNjcmlwdGlvbklucHV0TmFtZV19YFxyXG4gICAgfVxyXG4gICAgdXNlci5zZXRVc2VySW5mbyhuZXdVc2VySW5mbyk7XHJcbiAgICBhcGkuc2V0VXNlckluZm8obmV3VXNlckluZm8pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHVzZXIuc2V0VXNlckluZm8obmV3VXNlckluZm8pO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBhbGVydChlcnIpO1xyXG4gICAgfSkuZmluYWxseSAoKCkgPT4ge1xyXG4gICAgICAgIGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBlZGl0UHJvZmlsZVBvcHVwU2VsZWN0b3IsIFxyXG4gICAgcG9wdXBPcGVuZWRDbGFzcywgXHJcbiAgICBjbG9zZUJ1dHRvblNlbGVjdG9yXHJcbn0sIGZvcm1TZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybVByb2ZpbGUpO1xyXG5cclxuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZWRpdFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSB7fTtcclxuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHVzZXIuZ2V0VXNlckluZm8oKTtcclxuICAgIGRhdGFbbW9kYWxUaXRsZUlucHV0TmFtZV0gPSBuYW1lO1xyXG4gICAgZGF0YVttb2RhbERlc2NyaXB0aW9uSW5wdXROYW1lXSA9IGRlc2NyaXB0aW9uO1xyXG4gICAgZWRpdFByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyhkYXRhKTtcclxuICAgIGZvcm1WYWxpZGF0b3JzWydlZGl0LXByb2ZpbGUtZm9ybSddLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgZm9ybVZhbGlkYXRvcnNbJ2VkaXQtcHJvZmlsZS1mb3JtJ10uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgc2F2ZVByb2ZpbGVJbmZvQnRuLnRleHRDb250ZW50ID0gJ1NhdmUnO1xyXG4gICAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLSBFZGl0IFByb2ZpbGUgQXZhdGFyIFBhcnQgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRGb3JtUHJvZmlsZUF2YXRhcihldnQsIGlucHV0VmFsdWVzKSB7XHJcbiAgICBzYXZlUHJvZmlsZUF2YXRhckJ0bi50ZXh0Q29udGVudCA9ICdTYXZpbmcuLi4nO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7ICAgIFxyXG4gICAgYXBpLnNldFVzZXJBdmF0YXIoaW5wdXRWYWx1ZXNbbW9kYWxQcm9maWxlVXJsSW5wdXROYW1lXSkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgdXNlci5zZXRVc2VyQXZhdGFyKGlucHV0VmFsdWVzW21vZGFsUHJvZmlsZVVybElucHV0TmFtZV0pO1xyXG4gICAgfSkuY2F0Y2ggKGVyciA9PiB7XHJcbiAgICAgICAgYWxlcnQoZXJyKTtcclxuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIGVkaXRQcm9maWxlQXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogZWRpdFByb2ZpbGVBdmF0YXJQb3B1cFNlbGVjdG9yLCBcclxuICAgIHBvcHVwT3BlbmVkQ2xhc3MsIFxyXG4gICAgY2xvc2VCdXR0b25TZWxlY3RvclxyXG59LCBmb3JtU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdEZvcm1Qcm9maWxlQXZhdGFyKTtcclxuXHJcbmVkaXRQcm9maWxlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmVkaXRQcm9maWxlQXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICBkYXRhW21vZGFsUHJvZmlsZVVybElucHV0TmFtZV0gPSB1c2VyLmdldFVzZXJBdmF0YXIoKTtcclxuICAgIGVkaXRQcm9maWxlQXZhdGFyUG9wdXAuc2V0SW5wdXRWYWx1ZXMoZGF0YSk7XHJcblxyXG4gICAgZm9ybVZhbGlkYXRvcnNbJ2VkaXQtcHJvZmlsZS11cmwtZm9ybSddLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gICAgZm9ybVZhbGlkYXRvcnNbJ2VkaXQtcHJvZmlsZS11cmwtZm9ybSddLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIHNhdmVQcm9maWxlQXZhdGFyQnRuLnRleHRDb250ZW50ID0gJ1NhdmUnO1xyXG4gICAgZWRpdFByb2ZpbGVBdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLSBBcGkgUGFydCAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0Q2FyZHMoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNhcmRzIGRlbGV0ZVwiKTtcclxuICAgIGFwaS5kZWxldGVBbGxDYXJkcygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGFwaS53cml0ZUNhcmRzKGNhcmRzQXJyYXkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwaURlbGV0ZUNhcmQoaWQpIHtcclxuICAgIGFwaS5kZWxldGVDYXJkKGlkKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcGlMaWtlQ2FyZChpZCwgaXNMaWtlZCkge1xyXG4gICAgY29uc29sZS5sb2coYXBpLnNldENhcmRMaWtlKGlkLCBpc0xpa2VkKSk7XHJcbn1cclxuXHJcbnJlc2V0Q2FyZHNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlc2V0Q2FyZHMpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShiYXNpY1JlcXVlc3RJbmZvKTtcclxuY29uc3QgZ2V0SW5pdGlhbENhcmRzUHJvbWlzZSA9IGFwaS5nZXRJbml0aWFsQ2FyZHMoKTtcclxuY29uc3QgZ2V0VXNlckluZm9Qcm9taXNlID0gYXBpLmdldFVzZXJJbmZvKCk7XHJcbmNvbnN0IHByb21pc2VzID0gW2dldEluaXRpYWxDYXJkc1Byb21pc2UsIGdldFVzZXJJbmZvUHJvbWlzZV07XHJcbmxldCBjYXJkc1NlY3Rpb247XHJcblxyXG5Qcm9taXNlLmFsbChwcm9taXNlcykudGhlbihyZXN1bHRzID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0gRmlsbCBjYXJkcyBzZWN0aW9uIHdpdGggcmVjaWV2ZWQgY2FyZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbih7IGl0ZW1zOiByZXN1bHRzWzBdLCByZW5kZXJlcjogKGNhcmRJbmZvKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmRJbmZvKTtcclxuICAgICAgICBjYXJkc1NlY3Rpb24uYXBwZW5kSXRlbShuZXdDYXJkRWxlbWVudCk7ICAgIFxyXG4gICAgfX0sIGNhcmRzU2VjdGlvblNlbGVjdG9yKTtcclxuICAgIGNhcmRzU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0gRmlsbCB1c2VyIGluZm8gd2l0aCByZWNpZXZlZCBkYXRhIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgdXNlci5zZXRVc2VySW5mbyh7bmFtZTogcmVzdWx0c1sxXS5uYW1lLCBkZXNjcmlwdGlvbjogcmVzdWx0c1sxXS5hYm91dH0pO1xyXG4gICAgdXNlci5zZXRVc2VyQXZhdGFyKHJlc3VsdHNbMV0uYXZhdGFyKTtcclxufSkuY2F0Y2goZXJyID0+IHtcclxuICAgIGFsbGVydChlcnIpO1xyXG59KVxyXG5cclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tIEFkZCBDYXJkIFBhcnQgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRGb3JtQWRkQ2FyZChldnQsIGlucHV0VmFsdWVzKSB7XHJcbiAgICBzYXZlTmV3Q2FyZEJ0bi50ZXh0Q29udGVudCA9ICdTYXZpbmcuLi4nO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBhcGkud3JpdGVDYXJkKHtcclxuICAgICAgICBuYW1lOiBpbnB1dFZhbHVlc1ttb2RhbFBsYWNlSW5wdXROYW1lXSxcclxuICAgICAgICBsaW5rOiBpbnB1dFZhbHVlc1ttb2RhbFBsYWNlUGljVXJsSW5wdXROYW1lXVxyXG4gICAgfSkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgY29uc3QgYWRkZWRDYXJkID0gY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgICAgIGNhcmRzU2VjdGlvbi5wcmVwZW5kSXRlbShhZGRlZENhcmQpO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBhbGVydChlcnIpO1xyXG4gICAgfSk7XHJcbiAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcclxufVxyXG5cclxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogYWRkQ2FyZFBvcHVwU2VsZWN0b3IsIFxyXG4gICAgcG9wdXBPcGVuZWRDbGFzcywgXHJcbiAgICBjbG9zZUJ1dHRvblNlbGVjdG9yXHJcbn0sIGZvcm1TZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybUFkZENhcmQpO1xyXG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmFkZENhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGZvcm1WYWxpZGF0b3JzWydhZGQtY2FyZC1mb3JtJ10uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgc2F2ZU5ld0NhcmRCdG4udGV4dENvbnRlbnQgPSAnU2F2ZSc7XHJcbiAgICBhZGRDYXJkUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0gRGVsZXRlIENhcmQgUGFydCAtLS0tLS0tLS0tLS0tLS1cclxuZnVuY3Rpb24gaGFuZGxlQ29uZmlybURlbGV0ZShldnQsIGNhcmRUb0RlbGV0ZSkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjYXJkVG9EZWxldGUuZGVsZXRlQ2FyZCgpO1xyXG4gICAgY29uZmlybURlbGV0ZVBvcHVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmNvbnN0IGNvbmZpcm1EZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhTdWJtaXRCdXR0b24oe1xyXG4gICAgcG9wdXBTZWxlY3RvcjogY29uZmlybURlbGV0ZVBvcHVwU2VsZWN0b3IsXHJcbiAgICBwb3B1cE9wZW5lZENsYXNzLCBcclxuICAgIGNsb3NlQnV0dG9uU2VsZWN0b3JcclxufSwgZm9ybVNlbGVjdG9yLCBoYW5kbGVDb25maXJtRGVsZXRlKTtcclxuXHJcbmNvbmZpcm1EZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gb3BlbkNvbmZpcm1EZWxldGVQb3B1cChjYXJkKSB7XHJcbiAgICBjb25maXJtRGVsZXRlUG9wdXAub3BlbihjYXJkKTtcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLSBJbWFnZSBQb3B1cCBQYXJ0IC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XHJcbiAgICBwb3B1cFNlbGVjdG9yOiBpbWFnZVBvcHVwU2VsZWN0b3IsIFxyXG4gICAgcG9wdXBPcGVuZWRDbGFzcywgXHJcbiAgICBjbG9zZUJ1dHRvblNlbGVjdG9yXHJcbn0sIG1vZGFsUGljdHVyZVNlbGVjdG9yLCBtb2RhbFBpY3R1cmVDYXB0aW9uU2VsZWN0b3IpO1xyXG5cclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLSBWYWxpZGF0aW9uIFBhcnQgLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5mdW5jdGlvbiBlbmFibGVWYWxpZGF0aW9uKGNvbmZpZykge1xyXG4gICAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gICAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoaW5wdXRGb3Jtc0luZm8sIGZvcm1FbGVtZW50KTtcclxuICAgICAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpO1xyXG4gICAgICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IG5ld0Zvcm1WYWxpZGF0b3I7XHJcbiAgICAgICAgbmV3Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihpbnB1dEZvcm1zSW5mbyk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoIHt1c2VyTmFtZVNlbGVjdG9yLCB1c2VyRGVzY3JpcHRpb25TZWxlY3RvciwgdXNlckF2YXRhclNlbGVjdG9yfSApIHtcclxuICAgICAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyRGVzY3JpcHRpb25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJbmZvID0ge307XHJcbiAgICAgICAgdXNlckluZm8ubmFtZSA9IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50O1xyXG4gICAgICAgIHVzZXJJbmZvLmRlc2NyaXB0aW9uID0gdGhpcy5fdXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50O1xyXG4gICAgICAgIHJldHVybiB1c2VySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VyQXZhdGFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50QXZhdGFyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuICAgIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlckF2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudEF2YXRhciA9IGF2YXRhcjtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7YmFzZVVybCwgaGVhZGVyc30pIHtcclxuICAgICAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9iYXNlVXJsLCB0aGlzLl9oZWFkZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCJcclxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciBsb2FkaW5nIGNhcmRzIGZyb20gc2VydmVyLiBFcnJvciBudW1iZXI6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIlxyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIGdldHRpbmcgdXNlciBpbmZvIGZyb20gc2VydmVyLiBFcnJvciBudW1iZXI6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyh7bmFtZSwgZGVzY3JpcHRpb259KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIHNldHRpbmcgdXNlciBpbmZvIGZyb20gc2VydmVyLiBFcnJvciBudW1iZXI6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGluZm8gdXBkYXRlZC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VyQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGF2YXRhclVybCk7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogYXZhdGFyVXJsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgdXBkYXRhaW5nIHVzZXIgYXZhdGFyLiBFcnJvciBudW1iZXI6ICR7cmVzLnN0YXR1c30uIFBvc3NpYmx5IHlvdSB0eXBlZCBpbiB3cm9uZyBVUkwuYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBhdmF0YXIgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIlxyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENhcmQgd2l0aCBJRDogJHtjYXJkSWR9IHN1Y2Nlc3NmdWxseSBkZWxldGVkIGZyb20gc2VydmVyYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgZGVsZXRlbmcgY2FyZCBmcm9tIHNlcnZlci4gRXJyb3IgbnVtYmVyOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQWxsQ2FyZHMoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmdldEluaXRpYWxDYXJkcygpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgcmVzLmZvckVhY2goaXRlbSAgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLmRlbGV0ZUNhcmQoaXRlbS5faWQpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgd3JpdGVDYXJkKGNhcmRJbmZvKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coY2FyZEluZm8pO1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZEluZm8pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgcG9zdGluZyBjYXJkIHRvIHNlcnZlci4gRXJyb3IgbnVtYmVyOiAke3Jlcy5zdGF0dXN9LiBQb3NzaWJseSB5b3UgdHlwZWQgaW4gd3JvbmcgVVJMLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2FyZCB3aXRoIElEOiAke3Jlcy5faWR9IHN1Y2Nlc3NmdWxseSBwb3N0ZWQgdG8gc2VydmVyYCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB3cml0ZUNhcmRzKGNhcmRzQXJyYXkpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgIGNhcmRzQXJyYXkuZm9yRWFjaChjYXJkID0+IHtcclxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLndyaXRlQ2FyZChjYXJkKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IGBTdWNjZXNzZnVsbHkgcG9zdGVkICR7cHJvbWlzZXMubGVuZ3RofSBjYXJkcy5gKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDYXJkTGlrZShjYXJkSWQsIGlzTGlrZWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBtZXRob2Q6IGAke2lzTGlrZWQgPyBcIlBVVFwiIDogXCJERUxFVEVcIn1gLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIHdyaXRpbmcgbGlrZS4gRXJyb3IgbnVtYmVyOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWtlIHNldCB3aXRoIHN1Y2Nlc3NcIik7XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KSAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXRCdXR0b24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtU2VsZWN0b3IsIHN1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihjYXJkKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZFRvRGVsZXRlID0gY2FyZDtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIoZXZ0LCB0aGlzLl9jYXJkVG9EZWxldGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHBpY1NlbGVjdG9yLCBjYXB0U2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgICB0aGlzLl9waWN0dXJlID0gdGhpcy5fcG9wdXBXaW5kb3cucXVlcnlTZWxlY3RvcihwaWNTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwV2luZG93LnF1ZXJ5U2VsZWN0b3IoY2FwdFNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIG9wZW4oeyBsaW5rLCBhbHRJbmZvLCBuYW1lfSApIHtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgdGhpcy5fcGljdHVyZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3BpY3R1cmUuYWx0ID0gYWx0SW5mbztcclxuICAgICAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIH1cclxuICAgIFxyXG59Il0sIm5hbWVzIjpbIlNlY3Rpb24iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJ0aGlzIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlbmRlckl0ZW1zIiwiY2xlYXIiLCJmb3JFYWNoIiwiaXRlbSIsImlubmVySFRNTCIsImFwcGVuZEl0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZEl0ZW0iLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwicG9wdXBPcGVuZWRDbGFzcyIsImNsb3NlQnV0dG9uU2VsZWN0b3IiLCJfcG9wdXBXaW5kb3ciLCJfY2xvc2VCdXR0b24iLCJfcG9wdXBPcGVuZWRDbGFzcyIsIm9wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImRhdGEiLCJmb3JtU2VsZWN0b3IiLCJzdWJtaXRIYW5kbGVyIiwic3VwZXIiLCJfc3VibWl0SGFuZGxlciIsIl9wb3B1cEZvcm0iLCJfZm9ybUlucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImZvcm1JbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicmVzZXQiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImNvbmZpcm1EZWxldGUiLCJjYWxsQXBpRGVsZXRlIiwiY2FsbEFwaUxpa2UiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfY29uZmlybURlbGV0ZSIsIl9jYWxsQXBpRGVsZXRlIiwiX2NhbGxBcGlMaWtlIiwiX2NhcmRFbGVtZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRFbGVtZW50Q2FwdGlvbiIsInRleHRDb250ZW50IiwiX2xpa2VFbGVtZW50IiwiX2NhcmRJbWFnZUVsZW1lbnQiLCJzcmMiLCJsaW5rIiwiYWx0IiwiaWQiLCJfaWQiLCJpc0xpa2VkIiwiX2hhbmRsZUxpa2VDYXJkIiwidG9nZ2xlIiwiY29udGFpbnMiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsImRlbGV0ZUNhcmQiLCJfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfY2FsbEhhbmRsZUltYWdlQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJnZXRDYXJkRWxlbWVudCIsImdldENhcmROYW1lIiwiZ2V0Q2FyZEFsdEluZm8iLCJnZXRDYXJkTGluayIsIkZvcm1WYWxpZGF0b3IiLCJlbGVtZW50VG9WYWxpZGF0ZSIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJfYnV0dG9uRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl9zZXRTdWJtaXRCdXR0b25TdGF0ZSIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsInNpbXVsYXRlSW5wdXRFdmVudCIsIkV2ZW50IiwibW9kYWxJbnB1dCIsImRpc3BhdGNoRXZlbnQiLCJjYXJkc0FycmF5IiwiZWRpdFByb2ZpbGVQb3B1cFNlbGVjdG9yIiwic2F2ZVByb2ZpbGVJbmZvQnRuIiwiZWRpdFByb2ZpbGVBdmF0YXJQb3B1cFNlbGVjdG9yIiwic2F2ZVByb2ZpbGVBdmF0YXJCdG4iLCJhZGRDYXJkUG9wdXBTZWxlY3RvciIsInNhdmVOZXdDYXJkQnRuIiwiZm9ybVZhbGlkYXRvcnMiLCJpbnB1dEZvcm1zSW5mbyIsIm1vZGFsVGl0bGVJbnB1dE5hbWUiLCJtb2RhbERlc2NyaXB0aW9uSW5wdXROYW1lIiwibW9kYWxQcm9maWxlVXJsSW5wdXROYW1lIiwibW9kYWxQbGFjZUlucHV0TmFtZSIsIm1vZGFsUGxhY2VQaWNVcmxJbnB1dE5hbWUiLCJlZGl0UHJvZmlsZUJ0biIsImZvcm1zIiwiZWRpdFByb2ZpbGVBdmF0YXJCdG4iLCJhZGRDYXJkQnRuIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsInJlc2V0Q2FyZHNCdG4iLCJjcmVhdGVDYXJkIiwiY2FyZEluZm8iLCJvcGVuQ29uZmlybURlbGV0ZVBvcHVwIiwiYXBpRGVsZXRlQ2FyZCIsImFwaUxpa2VDYXJkIiwiY2FyZCIsImltYWdlUG9wdXAiLCJhbHRJbmZvIiwidXNlciIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VyRGVzY3JpcHRpb25TZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyRGVzY3JpcHRpb24iLCJfdXNlckF2YXRhciIsImdldFVzZXJJbmZvIiwidXNlckluZm8iLCJkZXNjcmlwdGlvbiIsImdldFVzZXJBdmF0YXIiLCJfY3VycmVudEF2YXRhciIsInNldFVzZXJJbmZvIiwiX3JlZjIiLCJzZXRVc2VyQXZhdGFyIiwiYXZhdGFyIiwiZWRpdFByb2ZpbGVQb3B1cCIsIm5ld1VzZXJJbmZvIiwiYXBpIiwidGhlbiIsInJlcyIsImNhdGNoIiwiZXJyIiwiYWxlcnQiLCJmaW5hbGx5IiwiZWRpdFByb2ZpbGVBdmF0YXJQb3B1cCIsImNvbnNvbGUiLCJsb2ciLCJzZXRDYXJkTGlrZSIsImRlbGV0ZUFsbENhcmRzIiwid3JpdGVDYXJkcyIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwibWV0aG9kIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXJVcmwiLCJjYXJkSWQiLCJwcm9taXNlcyIsInB1c2giLCJhbGwiLCJ3cml0ZUNhcmQiLCJsZW5ndGgiLCJhdXRob3JpemF0aW9uIiwiY2FyZHNTZWN0aW9uIiwicmVzdWx0cyIsIm5ld0NhcmRFbGVtZW50IiwiYWxsZXJ0IiwiYWRkQ2FyZFBvcHVwIiwiYWRkZWRDYXJkIiwiY29uZmlybURlbGV0ZVBvcHVwIiwiX2NhcmRUb0RlbGV0ZSIsImNhcmRUb0RlbGV0ZSIsInBpY1NlbGVjdG9yIiwiY2FwdFNlbGVjdG9yIiwiX3BpY3R1cmUiLCJfY2FwdGlvbiIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwibmV3Rm9ybVZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIl0sInNvdXJjZVJvb3QiOiIifQ==